#summary Introduction to GWT Dojo Mobile

= Introduction =

The Dojo Mobile package (dojox/mobile) provides a number of widgets that can be used to build applications for mobile devices such as iPhone, Android, or BlackBerry. These widgets work best with WebKit-based browsers, such as Safari or Chrome, since WebKit-specific CSS3 features are extensively used. However, a compatibility module (dojox/mobile/compat), is available, which simulates some of the CSS3 features used, even on non-CSS3 browsers. 

Dojo Mobile is designed to be as lightweight as possible. It only has a few dependencies on other dojo modules. Also it has its own very small parser that is a subset of the core dojo.parser, but has enough capability to bootstrap your application.

= Structuring Your Mobile Application =

A sample GWT Dojo Mobile Application can be found at:

https://code.google.com/p/gwt-dojo-toolkit/source/browse/branches/gwt-dojo-toolkit-mobile/

Please use that as a skeleton application for this tutorial. 

Just do:

{{{
svn -co http://gwt-dojo-toolkit.googlecode.com/svn/branches/gwt-dojo-toolkit-mobile/ gwt-dojo-toolkit-mobile
}}}

and add it to eclipse.

Like any web application, it's important that the structure of the HTML page is intelligently designed. Important to include are:

  * The proper DOCTYPE
  * Mobile-specific META tags (see: [http://developer.apple.com/library/safari/#documentation/appleapplications/reference/SafariHTMLRef/Articles/MetaTags.html Mobile Safari Supported Meta Tags])
  * A BODY element which will contain the views

Consider the following a template to start your mobile application with:
{{{
<!doctype html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
		<meta name="apple-mobile-web-app-capable" content="yes" />
		
		<link type="text/css" rel="stylesheet" href="application.css">
		
		<title>GWT Dojo Mobile Demo Application</title>
		
		<script>
		dojoConfig= {
			async: true
		};
		</script>
		
		<script type="text/javascript" src="gwt_dojo_toolkit_mobile/gwt_dojo_toolkit_mobile.nocache.js"></script>
	</head>
	<body>
		<!-- application will go here -->
	</body>
</html>
}}}

Including Dojo happens automatically by GWT Dojo Toolkit. The only thing needed is adding:

{{{
<script>
dojoConfig= {
	async: true
};
</script>
}}}

just before:

{{{
<script type="text/javascript" src="gwt_dojo_toolkit_mobile/gwt_dojo_toolkit_mobile.nocache.js"></script>
}}}

That configuration option causes Dojo 1.7 to switch into “baseless” mode (also known as “async mode” or “AMD mode”). In this mode, modules like fx, xhr, and query aren’t loaded automatically. In fact, in this mode, the only thing that gets loaded automatically is the module loader itself. This enables you to truly require only what you need, making code written with Dojo 1.7 smaller and faster than code written with other, more monolithic libraries.

Also, Dojo Mobile provides a dojox/mobile/deviceTheme resource to include theme resources based on User Agent detection. That means we don't have to hardcode a theme in our HTML page.